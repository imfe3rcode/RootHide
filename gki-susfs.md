## 2.1.2. Установка GKI

### 2.1.3. Предисловие

Возможно, до этого вы уже использовали build-in GKI драйвер KSU, т.к. это обусловлено бывшей актуальностью SUSFS, но после релиза KSU v3.0.0 этот костыльный модуль потерял популярность, а для повседневного использования оказался вреден

Раньше все сидели на GKI с вшитым KSU из-за SUSFS: это был такой костыль, чтобы хоть как-то прятать рут от проверок. Старый KernelSU не имел своих инструментов скрытия и реально палился. Но с выходом KernelSU v3.0.0 всё провернули: появился нормальный LKM режим, нативные хуки (частичный функционал SUSFS прямо в KSU) и адекватное скрытие без магии и плясок с бубном. В итоге SUSFS стал просто лишним балластом: он портит совместимость, добавляет глюков и делает систему более палевной, а не наоборот. GKI с вшитым KSU теперь выглядит как пережиток 2024 года: сегодня стоковое ядро + LKM работает стабильнее, обновляется без боли и не превращает систему в фарш из патчей.

*Инструкции ниже также подходят для обновления ядра/драйвера*

### 2.1.4. Непосредственно установка GKI

Коротко: [качаешь AK3 файл](https://github.com/WildKernels/GKI_KernelSU_SUSFS) для своей версии ядра (проверить версию можно в настройках телефона или AIDA64), качаешь [KernelFlasher](https://github.com/fatalcoder524/KernelFlasher), выдаешь ему рут-права из менеджера KSUN, и, ВАЖНО!!! УДАЛЯЕШЬ KSUN (Внутри настроек в KSUN есть опция полного удаления). Это необходимо сделать для того, что бы не было конфликтов между модулями KSUN.

После удаления рута, через KernelFlasher прошиваешь AK3-образ, который скачал, и перезагружаешь телефон.

В результате, после перезагрузки у тебя должен быть установлен рут (статус можно проверить в приложении KSUN)

### 2.1.5. Установка GKI с помощью magiskboot (by mrvokintos)

1. Берем бинарник проги:<br>
[Linux/Android](https://github.com/magojohnji/magiskboot-linux)<br>
[Windows](https://github.com/svoboda18/magiskboot/releases/latest)

2.1. (Linux/Android) Перемещаем в удобную папку и даем права на выполнение:
```
chmod +x magiskboot
```

2.2. (Windows)
Открываем эту папку через cmd


3. В ту же папку копируем boot.img

4. Распаковываем ядро:
```
magiskboot unpack boot.img
```
Появится несколько файлов (kernel, ramdisk)

5. Из архива Ak3.zip достаем Image и, переименовав, заменяем kernel на него

6. Запаковываем ядро
```
magiskboot repack boot.img
```
Появится new-boot.img, его и прошиваем
